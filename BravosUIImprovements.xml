<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">

  <Script file="Utils.lua"/>
  <Script file="CastBarTimers.lua"/>
  <Script file="QuickKeybindModeShortcut.lua"/>
  <Script file="CallToArms.lua"/>
  <Script file="Ion.lua"/>
  <Script file="GearAndTalentLoadout.lua"/>
  <Script file="CombatState.lua"/>
  <Script file="ReadyCheck.lua"/>
  <Script file="StanceTracker.lua"/>
  <Script file="ResourceTracker.lua"/>
  <Script file="EditModeUtils.lua"/>
  <Script file="GroupTools.lua"/>
  <Script file="BravosUIImprovements.lua"/>

  <Frame name="BUII_StanceTrackerEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_StanceTracker" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_STANCE_TRACKER_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUII_GroupToolsEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_GroupTools" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_GROUP_TOOLS_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUII_CallToArmsEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_CallToArms" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_CALL_TO_ARMS_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUII_CombatStateEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_CombatState" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_COMBAT_STATE_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUII_GearAndTalentLoadoutEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_GearAndTalentLoadout" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_GEAR_AND_TALENT_LOADOUT_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUII_ReadyCheckEditModeTemplate" inherits="EditModeSystemTemplate" virtual="true">
    <KeyValues>
      <KeyValue key="system" value="Enum.EditModeSystem.BUII_ReadyCheck" type="global"/>
      <KeyValue key="systemNameString" value="BUII_HUD_EDIT_MODE_READY_CHECK_LABEL" type="global"/>
    </KeyValues>
    <Frames>
      <Frame inherits="EditModeSystemSelectionTemplate" setAllPoints="true" hidden="true"/>
    </Frames>
  </Frame>

  <Frame name="BUIIOptionsPanel" hidden="false">

    <Layers>
      <Layer level="ARTWORK">
        <FontString name="$parentDisplayHeader" text="Bravo's UI Improvements" inherits="GameFontNormalLarge">
          <Anchors>
            <Anchor point="TOPLEFT">
              <Offset>
                <AbsDimension x="16" y="-16"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>

    <Frames>

      <CheckButton name="$parentHealthClassColor" parentKey="HealthClassColor" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeTo="$parentDisplayHeader" relativePoint="BOTTOMLEFT" x="0" y="-25"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Health Class Color" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_HealthClassColorCheckButton_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentCastBarTimers" parentKey="CastBarTimers" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.HealthClassColor" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Castbar Timers" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_CastBarTimersCheckButton_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentCastBarIcon" parentKey="CastBarIcon" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.CastBarTimers" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Player Castbar Spell Icon" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_CastBarIconCheckButton_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentCastBarOnTop" parentKey="CastBarOnTop" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.CastBarIcon" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Target and Focus castbar on top" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_CastBarOnTopCheckButton_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentSaneCombinedBagSorting" parentKey="SaneCombinedBagSorting" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.CastBarOnTop" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Sane sorting for combined bags" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_SaneCombinedBagSortingCheckButton_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentHideStanceBar" parentKey="HideStanceBar" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.SaneCombinedBagSorting" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Hide Stance Bar (Character Spesific)" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_HideStanceBar_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentQuickKeybindShortcut" parentKey="QuickKeybindShortcut" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.HideStanceBar" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Add shortcut for Quick Keybind Mode to ESC menu" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_QuickKeybindShortcut_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentImprovedEditMode" parentKey="ImprovedEditMode" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.QuickKeybindShortcut" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Improved Edit Mode" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_ImprovedEditMode_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentTooltipExpansion" parentKey="TooltipExpansion" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.ImprovedEditMode" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Expansion in tooltip" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_TooltipExpansion_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentCallToArms" parentKey="CallToArms" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.TooltipExpansion" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Call to Arms (LFG Satchel alerts)" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_CallToArms_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentIon" parentKey="Ion" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.CallToArms" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Ion Mode" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_Ion_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentGearAndTalentLoadout" parentKey="GearAndTalentLoadout" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.Ion" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Show Gear &amp; Talent Loadout" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_GearAndTalentLoadout_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentCombatState" parentKey="CombatState" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.GearAndTalentLoadout" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Combat State Notification" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_CombatState_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentReadyCheck" parentKey="ReadyCheck" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.CombatState" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Ready Check Gear and Talent reminder" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_ReadyCheck_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentGroupTools" parentKey="GroupTools" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.ReadyCheck" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Group Tools (Pull Timer, Ready Check, Available Battle Rez when in Group content)" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_GroupTools_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentStanceTracker" parentKey="StanceTracker" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.GroupTools" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Stance Tracker" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_StanceTracker_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentStanceTrackerDruid" parentKey="StanceTrackerDruid" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentStanceTrackerLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Druid" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_StanceTrackerDruid_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentStanceTrackerPaladin" parentKey="StanceTrackerPaladin" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentStanceTrackerDruidLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Paladin" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_StanceTrackerPaladin_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentStanceTrackerRogue" parentKey="StanceTrackerRogue" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentStanceTrackerPaladinLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Rogue" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_StanceTrackerRogue_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentStanceTrackerWarrior" parentKey="StanceTrackerWarrior" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentStanceTrackerRogueLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Warrior" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_StanceTrackerWarrior_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentResourceTracker" parentKey="ResourceTracker" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.StanceTracker" relativePoint="BOTTOMLEFT" x="0" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Resource Tracker (Shaman Maelstrom / DH Soul Fragments)" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_ResourceTracker_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentResourceTrackerDemonHunter" parentKey="ResourceTrackerDemonHunter" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentResourceTrackerLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Demon Hunter" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_ResourceTrackerDemonHunter_OnClick"/>
        </Scripts>
      </CheckButton>

      <CheckButton name="$parentResourceTrackerShaman" parentKey="ResourceTrackerShaman" inherits="InterfaceOptionsCheckButtonTemplate">
        <Anchors>
          <Anchor point="LEFT" relativeTo="$parentResourceTrackerDemonHunterLabel" relativePoint="RIGHT" x="10" y="0"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString name="$parentLabel" text="Shaman" inherits="GameFontNormalSmall">
              <Anchors>
                <Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick function="BUII_ResourceTrackerShaman_OnClick"/>
        </Scripts>
      </CheckButton>

    </Frames>

    <Scripts>
      <OnLoad function="BUII_OnLoadHandler"/>
      <OnEvent function="BUII_OnEventHandler"/>
    </Scripts>

  </Frame>
</Ui>
